<!DOCTYPE html>
<html id="top" lang="en-us">
  <head>
    <meta charset="utf-8">
    <title>The Crosswalk Project</title>
    <link rel="shorcut icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
    <script>
      WebFontConfig = {
        custom: {
          families: ['Clear Sans'],
          urls: ['/css/fonts.css']
        },
        google: {
          families: ['Source Code Pro:n4,n6']
        },
        timeout: 2000
      };
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script async defer src="//ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js"></script>
    <link rel="stylesheet" href="/css/main.css">

    <meta name="description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="author" content="Crosswalk" />
    <meta name="handheldfriendly" content="true" />
    <meta name="mobileoptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="cleartype" content="on" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Facebook -->
    <meta property="og:side_name" content="Crosswalk" />
    <meta property="og:title" content="Crosswalk" />
    <meta property="og:url" content="http://crosswalk-project.org/documentation/tizen/ivi_extensions" />
    <meta property="og:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta property="og:image" content="/assets/crosswalk-og-banner.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:url" content="http://crosswalk-project.org/documentation/tizen/ivi_extensions" />
    <meta name="twitter:title" content="Crosswalk" />
    <meta name="twitter:description" content="Enable the most advanced web innovations with the Crosswalk Project web runtime to develop powerful Android and Cordova apps." />
    <meta name="twitter:site" content="@xwalk_project" />

    <!-- Relevant original Crosswalk Project JS -->
    <script src="/js/utils.js"></script>
    <script src="/js/xwalk.js"></script>
    <script src="/js/versions.js"></script>
    <script src="/js/demos.js"></script>
    <script src="/js/tools.js"></script>

  </head>
  <body>
    <!-- If the current page is an index less than two
         directories deep or in the root directory,
         leave it alone so we can do custom layouts.
         Otherwise, provide the header and nav. -->
    
    <div class="container">
      <div class="doc-header">
        

  

  <div class="doc-logo-div">
     <a href="/" class="doc-logo-link">
       <img src="/assets/identity/crosswalkproject-logo-horizontal-dark.png" class="doc-logo-img">
     </a>
  </div>
  <div class="doc-nav-div">
    <ul class="doc-nav-list">
      <li class="doc-nav-item">
        <a href="/documentation/getting_started.html" class="doc-nav-link">Documentation</a>
      </li>
      <li class="doc-nav-item">
        <a href="/blog" class="doc-nav-link">Blog</a>
      </li>
      <li class="doc-nav-item">
        <a href="/contribute" class="doc-nav-link">Contribute</a>
      </li>
      <li class="doc-nav-item">
        <a href="https://github.com/crosswalk-project/crosswalk-website/wiki" class="doc-nav-link">Wiki</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/documentation/about/faq.html" class="doc-nav-link">FAQ</a>
      </li>
      <li class="doc-nav-item hide-on-small">
        <a href="/documentation/getting_started.html" class="doc-nav-link" style="border:1px solid #ec543b;padding:8px;color:#ec543b;" >get started</a>
      </li>
    </ul>
  </div>
  

      </div>
      <br />
      <div class="doc-main">
        <div class="row">
          
          <nav id="contents" class="article-toc nav-toggleContainer">
  <a href="#contents" id="contents-toggle" class="button button--small button--tertiary nav-toggle">Table of Contents</a>
  <a href="./#contents-toggle" class="button button--small button--tertiary nav-toggle--dummy">Table of Contents</a>
  <ul class="article-list nav-toggleHide">
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/about.html">About</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/getting_started.html">Getting Started</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/android.html">Android</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/ios.html">iOS</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/linux.html">Linux</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/tizen.html">Tizen</a>

         


         <ul class="article-list">
            
           <li class="article-item ">
             <a class="article-link" href="/documentation/tizen/windows_host_setup.html">Windows host setup</a>
               
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/tizen/linux_host_setup.html">Linux host setup</a>
               
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/tizen/tizen_target_setup.html">Tizen target setup</a>
               
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/tizen/build_an_application.html">Build an application</a>
               
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/tizen/run_on_tizen.html">Run on Tizen</a>
               
           </li>
           
           <li class="article-item ">
             <a class="article-link" href="/documentation/tizen/tizen_remote_debugging.html">Remote debugging</a>
               
           </li>
           
           <li class="article-item  nav-item--active">
             <a class="article-link" href="/documentation/tizen/ivi_extensions.html">IVI Extensions</a>
               
             <ul class="article-list">
               
               <li class="article-item ">
                 <a class="article-link" href="/documentation/tizen/ivi_extensions/host_and_target_setup.html">Host and target setup</a>
               </li>

               
               <li class="article-item ">
                 <a class="article-link" href="/documentation/tizen/ivi_extensions/write_an_extension_in_c.html">Write an extension in C</a>
               </li>

               
               <li class="article-item ">
                 <a class="article-link" href="/documentation/tizen/ivi_extensions/write_an_extension_in_c++.html">Write an extension in C++</a>
               </li>

               
               <li class="article-item ">
                 <a class="article-link" href="/documentation/tizen/ivi_extensions/json_based_c++_extension.html">JSON based C++ extension</a>
               </li>

               
               <li class="article-item ">
                 <a class="article-link" href="/documentation/tizen/ivi_extensions/write_a_web_application.html">Write a web application</a>
               </li>

               
               <li class="article-item ">
                 <a class="article-link" href="/documentation/tizen/ivi_extensions/run_on_tizen_vm.html">Run on Tizen VM</a>
               </li>

               
             </ul>
             
           </li>
           
         </ul>
         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/manifest.html">Manifest</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/apis.html">APIs</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/cordova.html">Cordova</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/downloads.html">Downloads</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/embedding_crosswalk.html">Embedding Crosswalk</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/shared_mode.html">Shared Mode</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/webrtc.html">WebRTC</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/screens.html">Screens</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/samples.html">Samples</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/community.html">Community</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/report_bugs.html">Report bugs</a>

         
       </li>
    
       <li class="article-item ">
         <a class="article-link" href="/documentation/test_suite.html">Test Suite</a>

         
       </li>
    
  </ul>

</nav>



<article class="article article--hasToC">
  <h1>Writing extensions for Tizen IVI on x86</h1>
<p>Extensions enhance the capabilities of the Crosswalk Project, enabling applications to make full use of platform features via native code.</p>
<p>Extensions are suitable for a number of use cases:</p>
<ul>
<li>You need to access a device capability not available via Crosswalk&#39;s JavaScript APIs: for example, use a specialised sensor or access part of the filesystem outside the web application&#39;s sandbox.</li>
<li>You want to integrate existing C/C++ libraries with a web application where no JavaScript equivalents are available.</li>
<li>You have some intellectual property in your application which you would prefer to not to distribute in an easily-readable JavaScript library.</li>
<li>You want to optimize parts of your application but have reached the limits of what you can do with JavaScript.</li>
</ul>
<p>Crosswalk extensions for Tizen can be implemented in C or C++ and can link with external libraries, potentially allowing you to make use of any of the Tizen Core APIs, as well as other third party libraries.</p>
<p>In addition, extensions are a safe way to add native capabilities to Crosswalk: each runs in its own process on Tizen, so it won&#39;t directly affect the stability of the runtime.</p>
<h2>Introduction to the tutorial</h2>
<p>This tutorial explains how to write a simple &quot;echo&quot; extension for Crosswalk running on <a href="https://wiki.tizen.org/wiki/IVI">Tizen IVI</a> (x86 architecture).</p>
<p>The extension accepts an input and returns that input prefixed with &quot;You said: &quot;. It will be used from JavaScript code (in a HTML5 web application) like this:</p>
<pre><code>var response = echo.echoSync(&#39;hello&#39;);
// response == &#39;You said: hello&#39;

echo.echoAsync(&#39;hello&#39;, function (response) {
  // response == &#39;You said: hello&#39;
});</code></pre>
<p>The native part of extension is implemented in C or in C++. Note that it is trivial and could easily be implemented using pure JavaScript. However, the aim is to reduce the complexity of the extension to focus on code structure and workflow.</p>
<p>This tutorial covers both C and C++. If you are a developer willing to contribute to the Tizen API crosswalk extensions, you should choose the C++ way.</p>
<p>The C code which corresponds to the JavaScript API above looks like this:</p>
<pre><code>// echoSync() handler
static void handle_sync_message(XW_Instance instance, const char* message) {
  char* response = build_response(message);
  g_sync_messaging-&gt;SetSyncReply(instance, response);
  free(response);
}

// echoAsync() handler
static void handle_message(XW_Instance instance, const char* message) {
  char* response = build_response(message);
  g_messaging-&gt;PostMessage(instance, response);
  free(response);
}</code></pre>
<p>The diagram below shows how the application and the extension interact:</p>
<p><img src="/assets/crosswalk-extension-layout.png" alt="Structure of a Crosswalk application with extension"></p>
<p><strong>The tutorial contains the following steps:</strong></p>
<ol>
<li><a href="/documentation/tizen/ivi_extensions/host_and_target_setup.html">Set up your host development environment</a>.</li>
<li><a href="/documentation/tizen/ivi_extensions/write_an_extension_in_c.html">Write a Tizen Crosswalk extension in C</a>.</li>
<li><a href="/documentation/tizen/ivi_extensions/write_an_extension_in_c++.html">Write a Tizen Crosswalk extension in C++</a>.</li>
<li><a href="/documentation/tizen/ivi_extensions/write_a_web_application.html">Write a web application</a>.<!-- 5.  [Run the application and extension using the Tizen emulator](/documentation/tizen/ivi_extensions/run_on_tizen_emulator.html). -->

</li>
</ol>
<p>As far as tooling goes, you&#39;ll use command line tools to compile the extension, and simple text editors to write the code. It is possible to use the Tizen SDK IDE to build Tizen applications; but using command line tools and a text editor exposes the internals of the extension more clearly.</p>
<p>Note that the tutorial focuses on Tizen IVI, but works exactly the same on Tizen Common. The tutorial uses Linux as a build environment, as the tool for creating native Tizen packages (<code>gbs</code>) is not compatible with Windows.</p>
<p><strong>By the end of this tutorial</strong>, you will understand the basics of writing a C or C++ extension for Crosswalk running on Tizen IVI.</p>

  <footer class="article-next">
    

  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
      
    
  


  </footer>
</article>

          
        </div>
      </div>
    </div>
    

    <hr class="footer-divider" style="margin-top:125px; margin-bottom:0px" />
    <div style="position:relative; top:-30px;">
       <a href="/"><img src="/assets/cw-logo-circle.png" width="60px" style="display:block; margin: 0 auto;" /></a>
    </div>
    <footer class="footer footer--documentation" >
      <div class="container" >
        <div class="row">
          <div  class="footer-div">
            <img src="/assets/Twitter_logo_blue.png" width="20px" /> Follow  <a href="http://twitter.com/xwalk_project">@xwalk_project on Twitter</a> for the latest developer activities and project updates.
          </div>
          <div class="footer-div">
             Latest blog post:</br>
              
              
                <b><a href="/blog">How to change the Crosswalk version used by the Cordova Crosswalk Webview plugin</a></b><br/>
                &nbsp;(<span ><time class="js-vagueTime" datetime="Mon, 17 Aug 2015 12:00:00 GMT">2015-08-17T12:00</time></span>)
              
              <br/>
           </div>
          <div class="footer-div">
              <strong><a href="/feed.xml"><img src="/assets/rss-icon-16.gif" style="vertical-align:middle" /> RSS Feed</a></strong>
          </div>
          <div class="footer-div">
             <a href="/documentation">Documentation</a> &nbsp;
             <a href="/blog">Blog</a> &nbsp;
             <a href="/documentation/downloads.html">Downloads</a> <br />
             <a href="https://crosswalk-project.org/jira/secure/Dashboard.jspa">Issues</a> &nbsp;
             <a href="https://github.com/crosswalk-project">GitHub source</a> &nbsp;
             <a href="/sitemap.html">Sitemap</a> <br/>
          </div>
        </div>
        <div class="row">
            <small>
              The Crosswalk Project was created by the Intel Open Source Technology Center. Copyright © 2013–2015 Intel Corporation. All rights reserved. <a href="https://github.com/crosswalk-project/crosswalk-website/wiki/Privacy-Policy">Privacy policy</a>. *Other names and brands may be claimed as the property of others.
            </small>
        </div>
      </div>
    </footer>

    
    
      <!-- Google Tag Manager -->
      <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WC843Q"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WC843Q');</script>
      <!-- End Google Tag Manager -->
    
    <script src="/js/smoothScroll.js"></script>
    <script src="/js/vagueTime.js"></script>
    <!-- <script async defer src="/js/trmix.js"></script> -->
  </body>
</html>
